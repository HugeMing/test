(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03d11ef8"],{"7fcb":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return l}));var n=i("b775"),o=i("6793");function a(){return Object(n["a"])({url:o["a"].solutionCount,method:"get"})}function r(t,e,i,a){var r={pageNum:t,pageSize:e};return i&&a&&(r[i]=a),Object(n["a"])({url:"".concat(o["a"].solutionBase,"/"),method:"get",params:r})}function l(t){return Object(n["a"])({url:"".concat(o["a"].solutionBase,"/").concat(t),method:"get"})}},a5a0:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[[i("v-table",{staticStyle:{width:"100%"},attrs:{width:1350,"is-horizontal-resize":"","is-loading":t.isLoading,columns:t.tableConfig.columns,"table-data":t.tableConfig.tableData,"row-hover-color":"#eee","row-click-color":"#edf7ff","row-click":t.rowClick}})],t._v(" "),i("el-dialog",{attrs:{title:"查看代码",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("highlight-code",{attrs:{lang:"sql"}},[t._v(t._s(t.sourceCode))]),t._v(" "),t.runError?i("h3",[t._v("运行错误详情：")]):t._e(),t._v(" "),t.runError?i("code",[t._v(t._s(t.runError))]):t._e(),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),[i("div",{staticClass:"bd"},[i("v-pagination",{attrs:{"show-paging-count":3,total:t.totalItems,layout:["total","sizer","prev","pager","next","jumper"],"page-size":t.pageSize},on:{"page-change":t.pageChange,"page-size-change":t.pageSizeChange}})],1)]],2)},o=[],a=(i("7f7f"),i("7abb"),i("efe0"),i("34bf"),i("e5fb")),r=i("7fcb"),l={components:{VTable:a["VTable"],VPagination:a["VPagination"]},data:function(){return{sourceCode:"",dialogVisible:!1,runError:null,pageNum:1,pageSize:20,totalItems:0,isLoading:!1,tableConfig:{tableData:[],columns:[{field:"id",title:"提交ID",width:50,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"username",title:"用户名",width:100,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(t,e,i,n){return'<a href="#/user/edit/'.concat(t.uid,'" title="').concat(t.username,'">').concat(t.username,"</a>")}},{field:"studentNo",title:"学号",width:150,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(t,e,i,n){return'<a href="#/user/edit/'.concat(t.uid,'" title="').concat(t.studentNo,'">').concat(t.studentNo,"</a>")}},{field:"problemCategoryTitle",title:"题目集标题",width:200,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(t,e,i,n){return'<a href="#/problem-category/edit/'.concat(t.problemCategoryId,'" title="').concat(t.problemCategoryTitle,'">').concat(t.problemCategoryTitle,"</a>")}},{field:"title",title:"题目标题",width:400,titleAlign:"center",isResize:!0,formatter:function(t,e,i,n){return'<a href="#/problem/edit/'.concat(t.pid,'" title="').concat(t.title,'">').concat(t.title,"</a>")}},{field:"submitTime",title:"提交时间",width:200,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"sourceCode",title:"代码",width:100,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(t,e,i,n){return"<a>查看代码</a>"}},{field:"result",title:"运行结果",width:150,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(t,e,i,n){var o="black";switch(t.result){case"Accepted":o="blue";break;case"Wrong Answer":o="red";break;case"Compile Error":o="green";break;case"Unknown":case"Judging":o="grey";break}return'<font color="'.concat(o,'">').concat(t.result,"</font>")}}]}}},computed:{searchType:function(){switch(this.$route.name){case"Problem Solution":return"pid";case"Problem Category Solution":return"problemCategoryId";case"User Solution":return"uid";default:return null}},searchId:function(){return this.$route.params.problemId?this.$route.params.problemId:this.$route.params.userId?this.$route.params.userId:this.$route.params.problemCategoryId?this.$route.params.problemCategoryId:null}},mounted:function(){this.searchType&&this.searchId||this.$message({message:"未指定过滤条件，将显示全部提交",type:"warning"}),this.fetchSolutionList()},methods:{rowClick:function(t,e,i){"sourceCode"===i.field&&this.fetchSolutionCode(e.id)},pageChange:function(t){this.pageNum=t,this.fetchSolutionList()},pageSizeChange:function(t){this.pageSize=t,this.fetchSolutionList()},fetchSolutionList:function(){var t=this;this.isLoading=!0,this.handleResponse(Object(r["c"])(this.pageNum,this.pageSize,this.searchType,this.searchId),"获取解答列表",(function(e){t.tableConfig.tableData=e.data.records,t.totalItems=e.data.total}),null,null,(function(){t.isLoading=!1}))},fetchSolutionCode:function(t){var e=this;this.handleResponse(Object(r["b"])(t),"获取解答代码",(function(t){e.sourceCode=t.data.sourceCode,e.runError=t.data.runError,e.dialogVisible=!0}))}}},c=l,s=(i("dd8c"),i("2877")),u=Object(s["a"])(c,n,o,!1,null,"4d618a98",null);e["default"]=u.exports},aa80:function(t,e,i){},dd8c:function(t,e,i){"use strict";i("aa80")}}]);