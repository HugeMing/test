(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84b8a6a4"],{2953:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"operation-button"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索关键字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),e._v(" "),a("el-select",{model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[a("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 搜索\n    ")],1),e._v(" "),e.inSearch?a("el-button",{attrs:{type:"primary"},on:{click:e.onCancelSearch}},[a("i",{staticClass:"el-icon-close"}),e._v(" 取消搜索\n    ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.onNewUser}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新建管理员\n    ")])],1),e._v(" "),[a("v-table",{staticStyle:{width:"100%"},attrs:{"is-horizontal-resize":"","is-loading":e.isLoading,columns:e.tableConfig.columns,"table-data":e.tableConfig.tableData,"row-hover-color":"#eee","row-click-color":"#edf7ff"},on:{"on-custom-comp":e.onTableOperation}})],e._v(" "),[a("div",{staticClass:"bd"},[a("v-pagination",{attrs:{"show-paging-count":3,total:e.totalItems,"page-size":e.pageSize,layout:["total","sizer","prev","pager","next","jumper"]},on:{"page-change":e.pageChange,"page-size-change":e.pageSizeChange}})],1)]],2)},i=[],c=(a("34bf"),a("e5fb")),o=a("50fc"),s={components:{VTable:c["VTable"],VPagination:c["VPagination"]},data:function(){return{searchTypeList:[{label:"管理员ID",value:"id"},{label:"管理员用户名",value:"username"},{label:"邮箱",value:"email"}],searchType:"id",inSearch:!1,searchKeyword:"",pageNum:1,pageSize:20,totalItems:0,isLoading:!1,tableConfig:{tableData:[],columns:[{field:"id",title:"管理员ID",width:80,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(e,t,a,n){return'<a href="#/admin/edit/'.concat(e.id,'">').concat(e.id,"</a>")}},{field:"username",title:"管理员用户名",width:80,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(e,t,a,n){return'<a href="#/admin/edit/'.concat(e.id,'" title="').concat(e.username,'">').concat(e.username,"</a>")}},{field:"status",title:"管理员状态",width:80,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"action",title:"操作",width:80,titleAlign:"center",columnAlign:"center",isResize:!0,componentName:"user-operation-button"}]}}},created:function(){},mounted:function(){this.getAdminList()},methods:{onSearch:function(){var e=this,t=this.searchKeyword.trim();this.pageNum=1,0===t.length?this.$message.error("请输入关键字！"):(this.isLoading=!0,this.handleResponse(Object(o["d"])(this.pageNum,this.pageSize,this.searchType,t),"搜索管理员",(function(t){e.tableConfig.tableData=t.data.records,e.totalItems=t.data.total,e.inSearch=!0}),null,null,(function(){e.isLoading=!1})))},onCancelSearch:function(){this.inSearch=!1,this.getAdminList()},onNewUser:function(){this.$router.push({path:"/admin/add/"})},onTableOperation:function(e){var t=this,a=e.index,n=this.tableConfig.tableData[a].id;if("delete"===e.type){var i="您确定要锁定该管理员吗？",c="锁定";"正常"!==this.tableConfig.tableData[a].status&&(i="您确定要解锁该管理员吗？",c="解锁"),confirm(i)&&this.handleResponse(Object(o["b"])(n),"删除管理员",(function(e){t.$message.success("".concat(c,"管理员成功")),t.getAdminList()}))}else"edit"===e.type&&this.$router.push({path:"/admin/edit/"+n})},pageChange:function(e){this.pageNum=e,this.inSearch?this.onSearch():this.getAdminList()},pageSizeChange:function(e){this.pageSize=e,this.inSearch?this.onSearch():this.getAdminList()},getAdminList:function(){var e=this;this.isLoading=!0,this.handleResponse(Object(o["d"])(this.pageNum,this.pageSize),"获取管理员列表",(function(t){e.tableConfig.tableData=t.data.records,e.totalItems=t.data.total}),null,null,(function(){e.isLoading=!1}))}}},r=s,l=(a("43b7"),a("2877")),u=Object(l["a"])(r,n,i,!1,null,"d930202a",null);t["default"]=u.exports},"43b7":function(e,t,a){"use strict";a("9459")},"50fc":function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l}));var n=a("b775"),i=a("6793");function c(e,t,a,c){var o={pageNum:e,pageSize:t};return a&&c&&(o[a]=c),Object(n["a"])({url:"".concat(i["a"].adminBase,"/"),method:"get",params:o})}function o(e,t){return Object(n["a"])({url:"".concat(i["a"].adminBase,"/"),method:"post",data:{username:e,password:t}})}function s(e,t){return Object(n["a"])({url:"".concat(i["a"].adminBase,"/").concat(e),method:"put",data:"password=".concat(t)})}function r(e){return Object(n["a"])({url:"".concat(i["a"].adminBase,"/").concat(e),method:"get"})}function l(e){return Object(n["a"])({url:"".concat(i["a"].adminBase,"/").concat(e),method:"delete"})}},9459:function(e,t,a){}}]);