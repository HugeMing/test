(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddefbc46"],{"24a1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"problemCategoryDetail",attrs:{model:e.problemCategoryDetail,rules:e.checkRules,"label-width":"120px"}},[r("el-form-item",[r("el-alert",{attrs:{title:"保存题目集之后才能编辑题目集中的题目",type:"warning","show-icon":""}})],1),e._v(" "),r("el-form-item",{attrs:{label:"题目集名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入题目集名称"},model:{value:e.problemCategoryDetail.name,callback:function(t){e.$set(e.problemCategoryDetail,"name",t)},expression:"problemCategoryDetail.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"题目集起止时间",prop:"duration"}},[r("div",{staticClass:"block"},[r("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.problemCategoryDetail.duration,callback:function(t){e.$set(e.problemCategoryDetail,"duration",t)},expression:"problemCategoryDetail.duration"}})],1)]),e._v(" "),r("el-form-item",{attrs:{label:"题目集结束后学生能否查看题目",prop:"viewAfterEnd"}},[r("el-switch",{attrs:{"active-text":"能","inactive-text":"否"},model:{value:e.problemCategoryDetail.viewAfterEnd,callback:function(t){e.$set(e.problemCategoryDetail,"viewAfterEnd",t)},expression:"problemCategoryDetail.viewAfterEnd"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){return e.$router.back(-1)}}},[e._v("取消")])],1)],1)],1)},n=[],o=(r("7f7f"),r("6c02")),i=r("5ad2"),l={data:function(){return{checkRules:{name:[{required:!0,message:"题目集名称不能为空",trigger:"blur"}],duration:[{required:!0,message:"题目集起止时间不能为空",trigger:"blur"}],viewAfterEnd:[{required:!0,message:"必须确定题目集结束后学生能否查看题目",trigger:"blur"}]},problemCategoryDetail:{name:"",duration:[],viewAfterEnd:!0},pickerOptions:{shortcuts:[{text:"未来一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(t.getTime()+6048e5),e.$emit("pick",[t,r])}},{text:"未来一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(t.getTime()+2592e6),e.$emit("pick",[t,r])}}]}}},methods:{onSubmit:function(){var e=this;this.$refs.problemCategoryDetail.validate((function(t){if(t){var r={name:e.problemCategoryDetail.name.trim(),startTime:o["a"].convertDateToString(e.problemCategoryDetail.duration[0]),endTime:o["a"].convertDateToString(e.problemCategoryDetail.duration[1]),viewAfterEnd:e.problemCategoryDetail.viewAfterEnd};e.handleResponse(Object(i["a"])(r.name,r.startTime,r.endTime,r.viewAfterEnd),"添加题目集",(function(t){e.$message.success("添加题目集成功"),e.$router.push("/problem-category/edit/"+t.data.id)}))}else e.$message.error("请确认所有项目均填写正确！")}))}}},c=l,u=r("2877"),s=Object(u["a"])(c,a,n,!1,null,null,null);t["default"]=s.exports},"5ad2":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return l})),r.d(t,"f",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return s}));var a=r("b775"),n=r("6793");function o(){return Object(a["a"])({url:n["a"].problemCategoryCount,method:"get"})}function i(e,t,r,o){var i={pageNum:e,pageSize:t};return r&&o&&(i[r]=o),Object(a["a"])({url:"".concat(n["a"].problemCategoryBase,"/"),method:"get",params:i})}function l(e,t,r,o){return Object(a["a"])({url:"".concat(n["a"].problemCategoryBase,"/"),method:"post",data:{name:e,startTime:t,endTime:r,viewAfterEnd:o}})}function c(e,t,r,o,i){return Object(a["a"])({url:"".concat(n["a"].problemCategoryBase,"/").concat(e),method:"put",data:{name:t,startTime:r,endTime:o,viewAfterEnd:i}})}function u(e){return Object(a["a"])({url:"".concat(n["a"].problemCategoryBase,"/").concat(e),method:"get"})}function s(e){return Object(a["a"])({url:"".concat(n["a"].problemCategoryBase,"/").concat(e),method:"delete"})}},"6c02":function(e,t,r){"use strict";var a={convertDateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}};t["a"]=a}}]);