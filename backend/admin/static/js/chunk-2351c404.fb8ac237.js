(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2351c404"],{3785:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"operation-button"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索关键字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),e._v(" "),a("el-select",{model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[a("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 搜索\n    ")],1),e._v(" "),e.inSearch?a("el-button",{attrs:{type:"primary"},on:{click:e.onCancelSearch}},[a("i",{staticClass:"el-icon-close"}),e._v(" 取消搜索\n    ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.onNewProblem}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新建题目\n    ")])],1),e._v(" "),[a("v-table",{staticStyle:{width:"100%"},attrs:{width:1e3,"is-horizontal-resize":"","is-loading":e.isLoading,columns:e.tableConfig.columns,"table-data":e.tableConfig.tableData,"row-hover-color":"#eee","row-click-color":"#edf7ff"},on:{"on-custom-comp":e.onTableOperation}})],e._v(" "),[a("div",{staticClass:"bd"},[a("v-pagination",{attrs:{"show-paging-count":3,total:e.totalItems,"page-size":e.pageSize,layout:["total","sizer","prev","pager","next","jumper"]},on:{"page-change":e.pageChange,"page-size-change":e.pageSizeChange}})],1)]],2)},i=[],o=(a("34bf"),a("e5fb")),r=a("9d9a"),l={components:{VTable:o["VTable"],VPagination:o["VPagination"]},data:function(){return{searchTypeList:[{label:"题目ID",value:"id"},{label:"题目标题",value:"title"},{label:"题目难度",value:"difficulty"}],searchType:"id",inSearch:!1,searchKeyword:"",pageNum:1,pageSize:20,totalItems:0,isLoading:!1,tableConfig:{tableData:[],columns:[{field:"problemId",title:"题目ID",width:100,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(e,t,a,n){return'<a href="#/problem/edit/'.concat(e.problemId,'">').concat(e.problemId,"</a>")}},{field:"databaseName",title:"数据库",width:200,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(e,t,a,n){return'<a href="#/problem/database/'.concat(e.databaseId,'" title="').concat(e.databaseName,'">').concat(e.databaseName,"</a>")}},{field:"problemTitle",title:"题目标题",width:500,titleAlign:"center",columnAlign:"left",isResize:!0,formatter:function(e,t,a,n){return'<a href="#/problem/edit/'.concat(e.problemId,'" title="').concat(e.problemTitle,'">').concat(e.problemTitle,"</a>")}},{field:"problemDifficulty",title:"难度",width:100,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(e,t,a,n){for(var i="",o=0;o<e.problemDifficulty;o++)i+="★";return i}},{field:"action",title:"操作",width:300,titleAlign:"center",columnAlign:"center",isResize:!0,componentName:"common-operation-button-with-solution"}]}}},mounted:function(){this.getProblemList()},methods:{onSearch:function(){var e=this,t=this.searchKeyword.trim();this.pageNum=1,0===t.length?this.$message.error("请输入关键字！"):(this.isLoading=!0,this.handleResponse(Object(r["e"])(this.pageNum,this.pageSize,this.searchType,t),"搜索题目",(function(t){e.tableConfig.tableData=t.data.records,e.totalItems=t.data.total,e.inSearch=!0}),null,null,(function(){e.isLoading=!1})))},onCancelSearch:function(){this.inSearch=!1,this.getProblemList()},onNewProblem:function(){this.$router.push({path:"/problem/add/"})},onTableOperation:function(e){var t=this,a=e.index,n=this.tableConfig.tableData[a].problemId;"delete"===e.type?this.$confirm("此操作将永久删除该题目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.handleResponse(Object(r["b"])(n),"删除题目",(function(e){t.$message.success("成功删除题目！"),t.getProblemList()}))})):"edit"===e.type?this.$router.push({path:"/problem/edit/"+n}):"showSolution"===e.type&&this.$router.push({path:"/solution/problem/"+n})},pageChange:function(e){this.pageNum=e,this.inSearch?this.onSearch():this.getProblemList()},pageSizeChange:function(e){this.pageSize=e,this.inSearch?this.onSearch():this.getProblemList()},getProblemList:function(){var e=this;this.isLoading=!0,this.handleResponse(Object(r["e"])(this.pageNum,this.pageSize),"获取题目列表",(function(t){e.tableConfig.tableData=t.data.records,e.totalItems=t.data.total}),null,null,(function(){e.isLoading=!1}))}}},c=l,s=(a("8e12"),a("2877")),u=Object(s["a"])(c,n,i,!1,null,"6eca6fab",null);t["default"]=u.exports},"8e12":function(e,t,a){"use strict";a("d172")},"9d9a":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a("b775"),i=a("6793");function o(){return Object(n["a"])({url:i["a"].problemCount,method:"get"})}function r(e,t,a,o){var r={pageNum:e,pageSize:t};return a&&o&&(r[a]=o),Object(n["a"])({url:"".concat(i["a"].problemBase,"/"),method:"get",params:r})}function l(e){return Object(n["a"])({url:"".concat(i["a"].problemBase,"/").concat(e),method:"get"})}function c(e,t,a,o,r,l,c,s,u){return Object(n["a"])({url:"".concat(i["a"].problemBase,"/"),method:"post",data:{title:e,description:t,sampleOutput:a,hint:o,answer:r,databaseId:l,difficulty:c,isUpdate:s,selectAfterUpdate:u}})}function s(e,t,a,o,r,l,c,s,u,p){return Object(n["a"])({url:"".concat(i["a"].problemBase,"/").concat(e),method:"put",data:{title:t,description:a,sampleOutput:o,hint:r,answer:l,databaseId:c,difficulty:s,isUpdate:u,selectAfterUpdate:p}})}function u(e){return Object(n["a"])({url:"".concat(i["a"].problemBase,"/").concat(e),method:"delete"})}},d172:function(e,t,a){}}]);