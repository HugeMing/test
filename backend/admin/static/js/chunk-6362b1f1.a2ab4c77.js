(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6362b1f1"],{"040b":function(e,s,t){},c4f4:function(e,s,t){"use strict";t("040b")},d344:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"userDetail",attrs:{model:e.userDetail,rules:e.checkRules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"用户ID"}},[t("el-input",{attrs:{disabled:""},model:{value:e.userDetail.id,callback:function(s){e.$set(e.userDetail,"id",s)},expression:"userDetail.id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userDetail.username,callback:function(s){e.$set(e.userDetail,"username",s)},expression:"userDetail.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"学号",prop:"studentNo"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入学号"},model:{value:e.userDetail.studentNo,callback:function(s){e.$set(e.userDetail,"studentNo",s)},expression:"userDetail.studentNo"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.userDetail.email,callback:function(s){e.$set(e.userDetail,"email",s)},expression:"userDetail.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"教师权限",prop:"isAdmin"}},[t("el-select",{model:{value:e.userDetail.isAdmin,callback:function(s){e.$set(e.userDetail,"isAdmin",s)},expression:"userDetail.isAdmin"}},e._l(e.searchTypeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{type:e.passwordType,placeholder:"留空则不修改密码"},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),e._v(" "),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"通过数"}},[t("el-input",{attrs:{disabled:""},model:{value:e.userDetail.solved,callback:function(s){e.$set(e.userDetail,"solved",s)},expression:"userDetail.solved"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"提交数"}},[t("el-input",{attrs:{disabled:""},model:{value:e.userDetail.submit,callback:function(s){e.$set(e.userDetail,"submit",s)},expression:"userDetail.submit"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),t("el-button",{on:{click:function(s){return e.$router.back(-1)}}},[e._v("取消")])],1)],1)],1)},l=[],i=t("c24f"),r={data:function(){return{passwordType:"password",userDetail:{},password:"",searchTypeList:[{label:"学生",value:"1"},{label:"教师",value:"2"}],checkRules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],email:[{required:!0,type:"email",message:"邮箱格式错误",trigger:"blur"}],studentNo:[{required:!0,message:"学号不能为空",trigger:"blur"}]}}},mounted:function(){var e=this,s=this.$route.params.id;this.handleResponse(Object(i["e"])(s),"获取用户详情",(function(s){e.userDetail=s.data,1===e.userDetail.isAdmin?e.userDetail.isAdmin="学生":e.userDetail.isAdmin="教师"}))},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},onSubmit:function(){var e=this;this.$refs.userDetail.validate((function(s){if(s){var t=e.$route.params.id,a={id:e.userDetail.id,username:e.userDetail.username.trim(),email:e.userDetail.email.trim(),studentNo:(e.userDetail.studentNo+"").trim(),isAdmin:e.userDetail.isAdmin};e.password&&(a.password=e.password.trim()),e.handleResponse(Object(i["j"])(t,a.username,a.password,a.email,a.studentNo,a.isAdmin),"更新用户信息",(function(s){e.$message.success("更新用户信息成功"),e.$router.back(-1)}))}else e.$message.error("请确认所有项目均填写正确！")}))}}},u=r,n=(t("c4f4"),t("2877")),o=Object(n["a"])(u,a,l,!1,null,"516089a9",null);s["default"]=o.exports}}]);