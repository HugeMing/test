(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e77185d"],{"2d34":function(e,t,n){"use strict";n("edac")},6578:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"operation-button"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入搜索关键字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),e._v(" "),n("el-select",{model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[n("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 搜索\n    ")],1),e._v(" "),e.inSearch?n("el-button",{attrs:{type:"primary"},on:{click:e.onCancelSearch}},[n("i",{staticClass:"el-icon-close"}),e._v(" 取消搜索\n    ")]):e._e(),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.openAddUserGroupDialog}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新建用户组\n    ")])],1),e._v(" "),[n("v-table",{staticStyle:{width:"100%"},attrs:{width:400,"is-horizontal-resize":"","is-loading":e.isLoading,columns:e.tableConfig.columns,"table-data":e.tableConfig.tableData,"row-hover-color":"#eee","row-click-color":"#edf7ff","row-click":e.rowClick},on:{"on-custom-comp":e.onTableOperation}})],e._v(" "),[n("div",{staticClass:"bd"},[n("v-pagination",{attrs:{"show-paging-count":3,total:e.totalItems,"page-size":e.pageSize,layout:["total","sizer","prev","pager","next","jumper"]},on:{"page-change":e.pageChange,"page-size-change":e.pageSizeChange}})],1)]],2)},i=[],o=(n("7f7f"),n("34bf"),n("e5fb")),r=n("fa8d"),s={components:{VTable:o["VTable"],VPagination:o["VPagination"]},data:function(){return{searchTypeList:[{label:"用户组ID",value:"id"},{label:"用户组名称",value:"name"}],sourceCode:"",dialogVisible:!1,runError:null,searchType:"id",inSearch:!1,searchKeyword:"",pageNum:1,pageSize:20,totalItems:0,isLoading:!1,tableConfig:{tableData:[],columns:[{field:"id",title:"用户组ID",width:100,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"name",title:"用户组名称",width:100,titleAlign:"center",columnAlign:"center",isResize:!0,formatter:function(e,t,n,a){return'<a href="#/user-group/edit/'.concat(e.id,'" title="').concat(e.name,'">').concat(e.name,"</a>")}},{field:"count",title:"用户数量",width:100,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"action",title:"操作",width:100,titleAlign:"center",columnAlign:"center",isResize:!0,componentName:"common-operation-button"}]}}},mounted:function(){this.getUserGroupList()},methods:{rowClick:function(e,t,n){},addUserGroup:function(e){var t=this;this.handleResponse(Object(r["a"])(e),"新建用户组",(function(e){t.$message.success("新建用户组成功"),t.$router.push("/user-group/edit/"+e.data.id)}))},openAddUserGroupDialog:function(){var e=this;this.$prompt("请输入新用户组名称","新建用户组",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var n=t.value;n?e.addUserGroup(n.trim()):e.$message.error("您输入的新用户组名称为空，请重新输入")}))},onSearch:function(){var e=this,t=this.searchKeyword.trim();this.pageNum=1,0===t.length?this.$message.error("请输入关键字！"):(this.isLoading=!0,this.handleResponse(Object(r["e"])(this.pageNum,this.pageSize,this.searchType,t),"搜索用户组",(function(t){e.tableConfig.tableData=t.data.records,e.totalItems=t.data.total,e.inSearch=!0}),null,null,(function(){e.isLoading=!1})))},getUserGroupList:function(){var e=this;this.isLoading=!0,this.handleResponse(Object(r["e"])(this.pageNum,this.pageSize),"获取用户组列表",(function(t){e.tableConfig.tableData=t.data.records,e.totalItems=t.data.total}),null,null,(function(){e.isLoading=!1}))},onTableOperation:function(e){var t=this,n=e.index,a=this.tableConfig.tableData[n].id;"delete"===e.type?confirm("您确定要删除该用户组吗？")&&this.handleResponse(Object(r["b"])(a),"删除用户组",(function(e){t.$message.success("删除用户组成功"),t.getUserGroupList()})):"edit"===e.type&&this.$router.push({path:"/user-group/edit/"+a})},onCancelSearch:function(){this.inSearch=!1,this.getUserGroupList()},pageChange:function(e){this.pageNum=e,this.inSearch?this.onSearch():this.getUserGroupList()},pageSizeChange:function(e){this.pageSize=e,this.inSearch?this.onSearch():this.getUserGroupList()}}},c=s,u=(n("2d34"),n("2877")),l=Object(u["a"])(c,a,i,!1,null,"0e485530",null);t["default"]=l.exports},edac:function(e,t,n){},fa8d:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n("b775"),i=n("6793");function o(){return Object(a["a"])({url:i["a"].userGroupCount,method:"get"})}function r(e,t,n,o){var r={pageNum:e,pageSize:t};return n&&o&&(r[n]=o),Object(a["a"])({url:"".concat(i["a"].userGroupBase,"/"),method:"get",params:r})}function s(e){return Object(a["a"])({url:"".concat(i["a"].userGroupBase,"/"),method:"post",data:{name:e}})}function c(e,t){return Object(a["a"])({url:"".concat(i["a"].userGroupBase,"/").concat(e),method:"put",data:{name:t}})}function u(e){return Object(a["a"])({url:"".concat(i["a"].userGroupBase,"/").concat(e),method:"get"})}function l(e){return Object(a["a"])({url:"".concat(i["a"].userGroupBase,"/").concat(e),method:"delete"})}}}]);